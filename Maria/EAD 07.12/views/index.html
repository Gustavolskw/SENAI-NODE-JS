<!DOCTYPE html>
<html lang="en">

<head>
    <title>Lista de Tarefas NodeJS</title>
    <link href="/public/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="
https://cdn.jsdelivr.net/npm/sweetalert2@11.10.0/dist/sweetalert2.all.min.js
"></script>
    <link href="
https://cdn.jsdelivr.net/npm/sweetalert2@11.10.0/dist/sweetalert2.min.css
" rel="stylesheet">
</head>

<body class="container">

    <div class="tarefas">
        <h3>TODOLIST NODE</h3>
        <form class="d-flex" method="post" name="form" onsubmit="validarFormulario()">
            <input type="text" class="form-control" name="task" />
           <button type="submit" name="acao" class="bi bi-check" > Adicionar </button>
        </form>

        <% for(let i=0; i < tasksList.length; i++){ %>
            <p>
                <%= tasksList[i] %> | <a href="/deletar/<%=i%>"><i class="bi bi-trash"></i> </a>
            </p>
            <% } %>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
    <script>
       
function validarFormulario() { 
    var tarefa= document.getElementsByName("index")[0].value;
    if(tarefa.trim() ===""){
        Swal.fire({
            icon: "error",
            title:"Oops!",
            text:"Por favor, preencha a tarefa antes de enviar",

        });
        return false;
    }
    return true;
}
    </script>
</body>

</html>